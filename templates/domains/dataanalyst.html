{% extends "base.html" %}

{% block title %}Data Analyst Roadmap - Tech Prep Hub{% endblock %} {# Corrected title #}

{% block content %}
<div class="container mx-auto px-4 py-10">
  <h1 class="text-4xl font-bold text-center text-blue-700 mb-10">Data Analyst Roadmap</h1>

  {# Iterate directly over the items of the 'roadmap' dictionary #}
  {# 'topic_name' will be like "Introduction to Data Analysis" #}
  {# 'topic_details' will be the dictionary for that topic #}
  {% if roadmap %} {# Check if roadmap data exists #}
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      {% for topic_name, topic_details in roadmap.items() %}
        <div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-2xl transition-shadow duration-300 border-l-4 border-blue-500">
          <h2 class="text-2xl font-semibold text-blue-700 mb-4">{{ topic_name }}</h2> {# Use topic_name as the heading #}

          <p class="mb-3">
            <span class="font-semibold text-gray-700">üß† Explanation:</span><br>
            <span class="text-gray-600">{{ topic_details.explanation }}</span>
          </p>

          {% if topic_details.example %} {# Your data uses 'example', not 'example_code' #}
          <p class="mb-3">
            <span class="font-semibold text-gray-700">üí° Real-world Example:</span><br>
            <span class="text-gray-600">{{ topic_details.example }}</span>
          </p>
          {% endif %}

          {% if topic_details.problems %}
          <div class="mb-3">
            <span class="font-semibold text-gray-700">üìù Practice Problems:</span>
            <ul class="list-disc ml-6 text-gray-600 mt-2">
              {% for problem in topic_details.problems %}
                <li>{{ problem }}</li>
              {% endfor %}
            </ul>
          </div>
          {% endif %}

          {% if topic_details.youtube_links %} {# Your data uses 'youtube_links' (plural) #}
          <div class="mb-1">
            <span class="font-semibold text-gray-700">üé• YouTube Videos:</span>
            <ul class="list-disc ml-6 text-blue-600 mt-2">
              {% for link in topic_details.youtube_links %}
                <li><a href="{{ link }}" class="underline hover:text-blue-800" target="_blank">{{ link }}</a></li>
              {% endfor %}
            </ul>
          </div>
          {% endif %}
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-center text-gray-500 text-lg">No roadmap data found for Data Analyst yet.</p>
  {% endif %}
</div>
{% endblock %}