{% extends "base.html" %}

{% block title %}{{ roadmap.title }} - Tech Prep Hub{% endblock %}

{% block content %}
<div class="bg-white p-8 rounded-lg shadow-md mb-8">
    <h2 class="text-3xl font-bold text-gray-800 mb-6 border-b pb-4">{{ roadmap.title }}</h2>
    <p class="text-lg text-gray-600 mb-8">Explore the practices and tools that integrate software development and IT operations, enabling faster and more reliable software delivery.</p>

    {% if roadmap.youtube_playlist %}
    <div class="mb-10 p-5 bg-yellow-100 rounded-lg border border-yellow-300 text-yellow-900 text-center shadow-md">
        <p class="font-bold text-xl mb-3">Recommended Full Playlist for this Domain:</p>
        <a href="{{ roadmap.youtube_playlist }}" target="_blank" class="text-primary-blue-dark hover:text-primary-blue hover:underline text-lg flex items-center justify-center font-medium">
            <svg class="w-6 h-6 inline-block mr-2 text-red-600" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"></path></svg>
            Watch Full Course on YouTube
        </a>
        <p class="text-sm mt-3 text-yellow-800">Note: This is a general playlist for the domain. Specific topic videos are linked below.</p>
    </div>
    {% endif %}

    {% if roadmap.topics %}
    <div class="space-y-16">
        {% for topic in roadmap.topics %}
        <div class="bg-white p-10 rounded-xl shadow-lg border border-gray-200 hover:shadow-xl transition duration-300 ease-in-out transform hover:scale-[1.01]">
            <h3 class="text-3xl font-bold text-teal-700 mb-6 border-b border-teal-200 pb-4">{{ topic.name }}</h3> {# Color for DevOps #}

            <div class="mb-8">
                <h4 class="text-2xl font-semibold text-dark-text mb-3">Explanation:</h4>
                <p class="text-lg text-light-text leading-relaxed">{{ topic.explanation }}</p>
            </div>

            {% if topic.example_code %}
            <div class="mb-8">
                <h4 class="text-2xl font-semibold text-dark-text mb-3">Example Code:</h4>
                <pre class="bg-gray-900 text-gray-50 p-6 rounded-lg overflow-x-auto text-base shadow-inner font-mono leading-relaxed"><code>{{ topic.example_code | e }}</code></pre>
            </div>
            {% endif %}

            {% if topic.example_output %}
            <div class="mb-8">
                <h4 class="text-2xl font-semibold text-dark-text mb-3">Expected Output:</h4>
                <pre class="bg-green-100 text-green-800 p-6 rounded-lg overflow-x-auto text-base border border-green-200 shadow-inner font-mono leading-relaxed"><code>{{ topic.example_output | e }}</code></pre>
            </div>
            {% endif %}

            {% if topic.youtube_link %}
            <div class="mt-8 p-5 bg-red-50 rounded-lg border border-red-200 text-red-800 shadow-sm flex flex-col md:flex-row items-center justify-between gap-4">
                <h4 class="text-xl font-semibold flex-shrink-0">Watch Video Explanation:</h4>
                <a href="{{ topic.youtube_link }}" target="_blank" class="text-primary-blue-dark hover:text-primary-blue hover:underline font-medium flex items-center gap-2 text-lg text-wrap break-all">
                    <svg class="w-7 h-7 flex-shrink-0 text-red-600" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"></path></svg>
                    <span class="break-words">{{ topic.youtube_link }}</span>
                    <svg class="w-5 h-5 flex-shrink-0 ml-1 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg>
                </a>
            </div>
            {% endif %}
        </div>
        {% endfor %}
    </div>
    {% else %}
        <p class="text-center text-gray-500 text-lg mt-8">No topics found for this roadmap yet.</p>
    {% endif %}
    <p class="text-center text-light-text text-sm mt-16">More topics and deeper dives will be added regularly!</p>
</div>
{% endblock %}