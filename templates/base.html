<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Tech Prep Hub{% endblock %}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    {# Add Font Awesome CDN link HERE #}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-blue': '#2563eb', // A strong blue for main accents
                        'primary-blue-dark': '#1d4ed8', // Darker for hover
                        'secondary-green': '#10b981', // A vibrant green
                        'secondary-green-dark': '#059669', // Darker for hover
                        'accent-purple': '#8b5cf6', // A nice purple
                        'accent-purple-dark': '#7c3aed', // Darker for hover
                        'light-bg': '#f0f4f8', // Very light background for elements
                        'dark-text': '#1e293b', // Dark text for readability
                        'light-text': '#64748b', // Lighter text for descriptions
                        'gradient-start': '#6366f1', // Indigo 500
                        'gradient-middle': '#8b5cf6', // Purple 500
                        'gradient-end': '#ec4899',   // Pink 500
                    },
                    keyframes: {
                        fadeInUp: {
                            '0%': { opacity: 0, transform: 'translateY(30px)' },
                            '100%': { opacity: 1, transform: 'translateY(0)' },
                        },
                        bounceSubtle: {
                            '0%, 100%': { transform: 'translateY(-5%)' },
                            '50%': { transform: 'translateY(0)' },
                        },
                        pulseSubtle: {
                            '0%, 100%': { opacity: 1 },
                            '50%': { opacity: 0.7 },
                        },
                        shimmer: {
                            '0%': { backgroundPosition: '-1000px 0' },
                            '100%': { backgroundPosition: '1000px 0' },
                        }
                    },
                    animation: {
                        'fade-in-up': 'fadeInUp 0.8s ease-out forwards',
                        'bounce-subtle': 'bounceSubtle 1.8s infinite ease-in-out',
                        'pulse-subtle': 'pulseSubtle 2s infinite ease-in-out',
                        'shimmer': 'shimmer 2s infinite linear',
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="icon" href="{{ url_for('static', filename='img/favicon.ico') }}" type="image/x-icon">
</head>
<body class="bg-gradient-to-br from-indigo-100 via-purple-50 to-pink-50 text-dark-text font-sans leading-relaxed antialiased min-h-screen flex flex-col">

    <header class="bg-gradient-to-r from-gradient-start via-gradient-middle to-gradient-end text-white shadow-2xl py-5 sticky top-0 z-50">
        <nav class="container mx-auto flex flex-col md:flex-row justify-between items-center px-6">
            {# Logo/Site Title - always links to home page #}
            <a href="{{ url_for('index') }}" class="text-5xl font-extrabold text-white tracking-wider mb-4 md:mb-0 transform hover:scale-105 transition-transform duration-300 ease-in-out">
                Tech Prep Hub
            </a>

            {# Main Navigation Links - always visible #}
            <div class="flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-10 text-xl font-semibold">
                <a href="{{ url_for('domains') }}" class="nav-link">Domains</a>
                <a href="{{ url_for('problems') }}" class="nav-link">Problems</a>
                <a href="{{ url_for('papers') }}" class="nav-link">Previous Papers</a>
                <a href="{{ url_for('interview') }}" class="nav-link">Interview Questions</a>
            </div>

            {# User Info / Login/Logout Buttons (Conditional) #}
            <div class="absolute top-5 right-6 text-white text-xl font-bold md:static md:ml-12 mt-4 md:mt-0 opacity-90 hover:opacity-100 transition-opacity duration-300">
                {% if user_logged_in %}
                    <div class="flex items-center gap-2">
                        <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="User Avatar" class="h-8 w-8 rounded-full shadow-md">
                        <span>Welcome, {{ user_name }}</span>
                        <a href="{{ url_for('logout') }}" class="nav-link text-lg px-3 py-1 bg-red-600 rounded-md hover:bg-red-700 transition">Logout</a>
                    </div>
                {% else %}
                    <div class="flex items-center gap-4">
                        <a href="{{ url_for('login') }}" class="nav-link text-lg px-3 py-1 bg-blue-600 rounded-md hover:bg-blue-700 transition">Login</a>
                        <a href="{{ url_for('signup') }}" class="nav-link text-lg px-3 py-1 bg-green-600 rounded-md hover:bg-green-700 transition">Register</a>
                    </div>
                {% endif %}
            </div>
        </nav>
    </header>

    <main class="container mx-auto my-16 px-6 flex-grow">
        {% block content %}{% endblock %}
    </main>

    <footer class="bg-gray-900 text-gray-400 text-center py-10 mt-20 shadow-inner">
        <p class="text-sm tracking-wide leading-relaxed">Made by Siddarthan Reddy.</p>
        <p class="text-xs mt-3 opacity-80">All rights reserved &copy; {{ current_year }}.</p>
    </footer>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>